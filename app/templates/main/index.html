{% extends "base.html" %}

{% block title %}Home - NFL Pick'em{% endblock %}

{% block content %}
<div class="page-header text-center">
    <h1><i class="bi bi-trophy-fill me-2" style="color: gold;"></i>NFL Pick'em Pool</h1>
    <p>Welcome back, {{ current_user.display_name }}!</p>
</div>

<div class="row g-4 justify-content-center mt-3">
    {% if season %}
    <div class="col-md-4">
        <div class="card stats-card">
            <div class="stat-value">{{ season.year }}</div>
            <div class="stat-label">Current Season</div>
        </div>
    </div>
    {% if current_week %}
    <div class="col-md-4">
        <div class="card stats-card">
            <div class="stat-value">Week {{ current_week.week_number }}</div>
            <div class="stat-label">
                {% if current_week.is_open_for_picks %}
                    <span class="badge bg-success mt-1">Open for Picks</span>
                {% elif current_week.is_completed %}
                    <span class="badge bg-secondary mt-1">Completed</span>
                {% else %}
                    <span class="badge bg-warning text-dark mt-1">Not Yet Open</span>
                {% endif %}
            </div>
        </div>
    </div>
    {% endif %}
    <div class="col-12 text-center mt-4">
        <div class="d-flex gap-3 justify-content-center flex-wrap">
            {% if current_week and current_week.is_open_for_picks %}
            <a href="{{ url_for('picks.make_picks', week_id=current_week.id) }}" class="btn btn-primary btn-lg px-4">
                <i class="bi bi-check2-square me-2"></i>Make Picks
            </a>
            {% endif %}
            <a href="{{ url_for('picks.picks_index') }}" class="btn btn-outline-light btn-lg px-4">
                <i class="bi bi-list-check me-2"></i>View Picks
            </a>
            <a href="{{ url_for('standings.index') }}" class="btn btn-outline-light btn-lg px-4">
                <i class="bi bi-bar-chart me-2"></i>Standings
            </a>
        </div>
    </div>
    {% else %}
    <div class="col-md-6">
        <div class="card">
            <div class="card-body text-center py-5">
                <i class="bi bi-calendar-x text-white-50" style="font-size: 3rem;"></i>
                <h3 class="mt-3 text-white-50">No Active Season</h3>
                <p class="text-white-50">Contact the administrator to set up a season.</p>
            </div>
        </div>
    </div>
    {% endif %}
</div>
{% endblock %}
